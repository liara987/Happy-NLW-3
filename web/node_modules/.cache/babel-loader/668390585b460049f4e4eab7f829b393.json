{"ast":null,"code":"\"use strict\";\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Popup as LeafletPopup } from 'leaflet';\nimport { withLeaflet } from './context';\nimport DivOverlay from './DivOverlay';\n\nvar Popup = /*#__PURE__*/function (_DivOverlay) {\n  _inheritsLoose(Popup, _DivOverlay);\n\n  function Popup() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _DivOverlay.call.apply(_DivOverlay, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"onPopupOpen\", function (_ref) {\n      var popup = _ref.popup;\n\n      if (popup === _this.leafletElement) {\n        _this.onOpen();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPopupClose\", function (_ref2) {\n      var popup = _ref2.popup;\n\n      if (popup === _this.leafletElement) {\n        _this.onClose();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRender\", function () {\n      if (_this.props.autoPan !== false && _this.leafletElement.isOpen()) {\n        if (_this.leafletElement._map && _this.leafletElement._map._panAnim) {\n          _this.leafletElement._map._panAnim = undefined;\n        }\n\n        _this.leafletElement._adjustPan();\n      }\n    });\n\n    return _this;\n  }\n\n  var _proto = Popup.prototype;\n\n  _proto.getOptions = function getOptions(props) {\n    return _extends(_extends({}, _DivOverlay.prototype.getOptions.call(this, props)), {}, {\n      autoPan: false\n    });\n  };\n\n  _proto.createLeafletElement = function createLeafletElement(props) {\n    var options = this.getOptions(props);\n    options.autoPan = props.autoPan !== false;\n    return new LeafletPopup(options, props.leaflet.popupContainer);\n  };\n\n  _proto.updateLeafletElement = function updateLeafletElement(fromProps, toProps) {\n    if (toProps.position !== fromProps.position) {\n      this.leafletElement.setLatLng(toProps.position);\n    }\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    var position = this.props.position;\n    var _this$props$leaflet = this.props.leaflet,\n        map = _this$props$leaflet.map,\n        popupContainer = _this$props$leaflet.popupContainer;\n    var el = this.leafletElement;\n\n    if (map != null) {\n      map.on({\n        popupopen: this.onPopupOpen,\n        popupclose: this.onPopupClose\n      });\n    }\n\n    if (popupContainer) {\n      // Attach to container component\n      popupContainer.bindPopup(el);\n    } else {\n      // Attach to a Map\n      if (position) {\n        el.setLatLng(position);\n      }\n\n      el.openOn(map);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var map = this.props.leaflet.map;\n\n    if (map != null) {\n      map.off({\n        popupopen: this.onPopupOpen,\n        popupclose: this.onPopupClose\n      });\n      map.removeLayer(this.leafletElement);\n    }\n\n    _DivOverlay.prototype.componentWillUnmount.call(this);\n  };\n\n  return Popup;\n}(DivOverlay);\n\n_defineProperty(Popup, \"defaultProps\", {\n  pane: 'popupPane'\n});\n\nexport default withLeaflet(Popup);","map":{"version":3,"sources":["/home/lipereira/projects/NLW/web/node_modules/react-leaflet/es/Popup.js"],"names":["_extends","_assertThisInitialized","_inheritsLoose","_defineProperty","Popup","LeafletPopup","withLeaflet","DivOverlay","_DivOverlay","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_ref","popup","leafletElement","onOpen","_ref2","onClose","props","autoPan","isOpen","_map","_panAnim","undefined","_adjustPan","_proto","prototype","getOptions","createLeafletElement","options","leaflet","popupContainer","updateLeafletElement","fromProps","toProps","position","setLatLng","componentDidMount","_this$props$leaflet","map","el","on","popupopen","onPopupOpen","popupclose","onPopupClose","bindPopup","openOn","componentWillUnmount","off","removeLayer","pane"],"mappings":"AAAA;;AAEA,OAAOA,QAAP,MAAqB,oCAArB;AACA,OAAOC,sBAAP,MAAmC,kDAAnC;AACA,OAAOC,cAAP,MAA2B,0CAA3B;AACA,OAAOC,eAAP,MAA4B,2CAA5B;AACA,SAASC,KAAK,IAAIC,YAAlB,QAAsC,SAAtC;AACA,SAASC,WAAT,QAA4B,WAA5B;AACA,OAAOC,UAAP,MAAuB,cAAvB;;AAEA,IAAIH,KAAK,GAAG,aAAa,UAAUI,WAAV,EAAuB;AAC9CN,EAAAA,cAAc,CAACE,KAAD,EAAQI,WAAR,CAAd;;AAEA,WAASJ,KAAT,GAAiB;AACf,QAAIK,KAAJ;;AAEA,SAAK,IAAIC,IAAI,GAAGC,SAAS,CAACC,MAArB,EAA6BC,IAAI,GAAG,IAAIC,KAAJ,CAAUJ,IAAV,CAApC,EAAqDK,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGL,IAA3E,EAAiFK,IAAI,EAArF,EAAyF;AACvFF,MAAAA,IAAI,CAACE,IAAD,CAAJ,GAAaJ,SAAS,CAACI,IAAD,CAAtB;AACD;;AAEDN,IAAAA,KAAK,GAAGD,WAAW,CAACQ,IAAZ,CAAiBC,KAAjB,CAAuBT,WAAvB,EAAoC,CAAC,IAAD,EAAOU,MAAP,CAAcL,IAAd,CAApC,KAA4D,IAApE;;AAEAV,IAAAA,eAAe,CAACF,sBAAsB,CAACQ,KAAD,CAAvB,EAAgC,aAAhC,EAA+C,UAAUU,IAAV,EAAgB;AAC5E,UAAIC,KAAK,GAAGD,IAAI,CAACC,KAAjB;;AAEA,UAAIA,KAAK,KAAKX,KAAK,CAACY,cAApB,EAAoC;AAClCZ,QAAAA,KAAK,CAACa,MAAN;AACD;AACF,KANc,CAAf;;AAQAnB,IAAAA,eAAe,CAACF,sBAAsB,CAACQ,KAAD,CAAvB,EAAgC,cAAhC,EAAgD,UAAUc,KAAV,EAAiB;AAC9E,UAAIH,KAAK,GAAGG,KAAK,CAACH,KAAlB;;AAEA,UAAIA,KAAK,KAAKX,KAAK,CAACY,cAApB,EAAoC;AAClCZ,QAAAA,KAAK,CAACe,OAAN;AACD;AACF,KANc,CAAf;;AAQArB,IAAAA,eAAe,CAACF,sBAAsB,CAACQ,KAAD,CAAvB,EAAgC,UAAhC,EAA4C,YAAY;AACrE,UAAIA,KAAK,CAACgB,KAAN,CAAYC,OAAZ,KAAwB,KAAxB,IAAiCjB,KAAK,CAACY,cAAN,CAAqBM,MAArB,EAArC,EAAoE;AAClE,YAAIlB,KAAK,CAACY,cAAN,CAAqBO,IAArB,IAA6BnB,KAAK,CAACY,cAAN,CAAqBO,IAArB,CAA0BC,QAA3D,EAAqE;AACnEpB,UAAAA,KAAK,CAACY,cAAN,CAAqBO,IAArB,CAA0BC,QAA1B,GAAqCC,SAArC;AACD;;AAEDrB,QAAAA,KAAK,CAACY,cAAN,CAAqBU,UAArB;AACD;AACF,KARc,CAAf;;AAUA,WAAOtB,KAAP;AACD;;AAED,MAAIuB,MAAM,GAAG5B,KAAK,CAAC6B,SAAnB;;AAEAD,EAAAA,MAAM,CAACE,UAAP,GAAoB,SAASA,UAAT,CAAoBT,KAApB,EAA2B;AAC7C,WAAOzB,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKQ,WAAW,CAACyB,SAAZ,CAAsBC,UAAtB,CAAiClB,IAAjC,CAAsC,IAAtC,EAA4CS,KAA5C,CAAL,CAAT,EAAmE,EAAnE,EAAuE;AACpFC,MAAAA,OAAO,EAAE;AAD2E,KAAvE,CAAf;AAGD,GAJD;;AAMAM,EAAAA,MAAM,CAACG,oBAAP,GAA8B,SAASA,oBAAT,CAA8BV,KAA9B,EAAqC;AACjE,QAAIW,OAAO,GAAG,KAAKF,UAAL,CAAgBT,KAAhB,CAAd;AACAW,IAAAA,OAAO,CAACV,OAAR,GAAkBD,KAAK,CAACC,OAAN,KAAkB,KAApC;AACA,WAAO,IAAIrB,YAAJ,CAAiB+B,OAAjB,EAA0BX,KAAK,CAACY,OAAN,CAAcC,cAAxC,CAAP;AACD,GAJD;;AAMAN,EAAAA,MAAM,CAACO,oBAAP,GAA8B,SAASA,oBAAT,CAA8BC,SAA9B,EAAyCC,OAAzC,EAAkD;AAC9E,QAAIA,OAAO,CAACC,QAAR,KAAqBF,SAAS,CAACE,QAAnC,EAA6C;AAC3C,WAAKrB,cAAL,CAAoBsB,SAApB,CAA8BF,OAAO,CAACC,QAAtC;AACD;AACF,GAJD;;AAMAV,EAAAA,MAAM,CAACY,iBAAP,GAA2B,SAASA,iBAAT,GAA6B;AACtD,QAAIF,QAAQ,GAAG,KAAKjB,KAAL,CAAWiB,QAA1B;AACA,QAAIG,mBAAmB,GAAG,KAAKpB,KAAL,CAAWY,OAArC;AAAA,QACIS,GAAG,GAAGD,mBAAmB,CAACC,GAD9B;AAAA,QAEIR,cAAc,GAAGO,mBAAmB,CAACP,cAFzC;AAGA,QAAIS,EAAE,GAAG,KAAK1B,cAAd;;AAEA,QAAIyB,GAAG,IAAI,IAAX,EAAiB;AACfA,MAAAA,GAAG,CAACE,EAAJ,CAAO;AACLC,QAAAA,SAAS,EAAE,KAAKC,WADX;AAELC,QAAAA,UAAU,EAAE,KAAKC;AAFZ,OAAP;AAID;;AAED,QAAId,cAAJ,EAAoB;AAClB;AACAA,MAAAA,cAAc,CAACe,SAAf,CAAyBN,EAAzB;AACD,KAHD,MAGO;AACL;AACA,UAAIL,QAAJ,EAAc;AACZK,QAAAA,EAAE,CAACJ,SAAH,CAAaD,QAAb;AACD;;AAEDK,MAAAA,EAAE,CAACO,MAAH,CAAUR,GAAV;AACD;AACF,GAzBD;;AA2BAd,EAAAA,MAAM,CAACuB,oBAAP,GAA8B,SAASA,oBAAT,GAAgC;AAC5D,QAAIT,GAAG,GAAG,KAAKrB,KAAL,CAAWY,OAAX,CAAmBS,GAA7B;;AAEA,QAAIA,GAAG,IAAI,IAAX,EAAiB;AACfA,MAAAA,GAAG,CAACU,GAAJ,CAAQ;AACNP,QAAAA,SAAS,EAAE,KAAKC,WADV;AAENC,QAAAA,UAAU,EAAE,KAAKC;AAFX,OAAR;AAIAN,MAAAA,GAAG,CAACW,WAAJ,CAAgB,KAAKpC,cAArB;AACD;;AAEDb,IAAAA,WAAW,CAACyB,SAAZ,CAAsBsB,oBAAtB,CAA2CvC,IAA3C,CAAgD,IAAhD;AACD,GAZD;;AAcA,SAAOZ,KAAP;AACD,CAvGwB,CAuGvBG,UAvGuB,CAAzB;;AAyGAJ,eAAe,CAACC,KAAD,EAAQ,cAAR,EAAwB;AACrCsD,EAAAA,IAAI,EAAE;AAD+B,CAAxB,CAAf;;AAIA,eAAepD,WAAW,CAACF,KAAD,CAA1B","sourcesContent":["\"use strict\";\n\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Popup as LeafletPopup } from 'leaflet';\nimport { withLeaflet } from './context';\nimport DivOverlay from './DivOverlay';\n\nvar Popup = /*#__PURE__*/function (_DivOverlay) {\n  _inheritsLoose(Popup, _DivOverlay);\n\n  function Popup() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _DivOverlay.call.apply(_DivOverlay, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"onPopupOpen\", function (_ref) {\n      var popup = _ref.popup;\n\n      if (popup === _this.leafletElement) {\n        _this.onOpen();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onPopupClose\", function (_ref2) {\n      var popup = _ref2.popup;\n\n      if (popup === _this.leafletElement) {\n        _this.onClose();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRender\", function () {\n      if (_this.props.autoPan !== false && _this.leafletElement.isOpen()) {\n        if (_this.leafletElement._map && _this.leafletElement._map._panAnim) {\n          _this.leafletElement._map._panAnim = undefined;\n        }\n\n        _this.leafletElement._adjustPan();\n      }\n    });\n\n    return _this;\n  }\n\n  var _proto = Popup.prototype;\n\n  _proto.getOptions = function getOptions(props) {\n    return _extends(_extends({}, _DivOverlay.prototype.getOptions.call(this, props)), {}, {\n      autoPan: false\n    });\n  };\n\n  _proto.createLeafletElement = function createLeafletElement(props) {\n    var options = this.getOptions(props);\n    options.autoPan = props.autoPan !== false;\n    return new LeafletPopup(options, props.leaflet.popupContainer);\n  };\n\n  _proto.updateLeafletElement = function updateLeafletElement(fromProps, toProps) {\n    if (toProps.position !== fromProps.position) {\n      this.leafletElement.setLatLng(toProps.position);\n    }\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    var position = this.props.position;\n    var _this$props$leaflet = this.props.leaflet,\n        map = _this$props$leaflet.map,\n        popupContainer = _this$props$leaflet.popupContainer;\n    var el = this.leafletElement;\n\n    if (map != null) {\n      map.on({\n        popupopen: this.onPopupOpen,\n        popupclose: this.onPopupClose\n      });\n    }\n\n    if (popupContainer) {\n      // Attach to container component\n      popupContainer.bindPopup(el);\n    } else {\n      // Attach to a Map\n      if (position) {\n        el.setLatLng(position);\n      }\n\n      el.openOn(map);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var map = this.props.leaflet.map;\n\n    if (map != null) {\n      map.off({\n        popupopen: this.onPopupOpen,\n        popupclose: this.onPopupClose\n      });\n      map.removeLayer(this.leafletElement);\n    }\n\n    _DivOverlay.prototype.componentWillUnmount.call(this);\n  };\n\n  return Popup;\n}(DivOverlay);\n\n_defineProperty(Popup, \"defaultProps\", {\n  pane: 'popupPane'\n});\n\nexport default withLeaflet(Popup);"]},"metadata":{},"sourceType":"module"}