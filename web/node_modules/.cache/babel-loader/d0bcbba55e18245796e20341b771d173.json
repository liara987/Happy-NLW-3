{"ast":null,"code":"\"use strict\";\n\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Layer, SVGOverlay as LeafletSVGOverlay } from 'leaflet';\nimport { createPortal } from 'react-dom';\nimport { withLeaflet } from './context';\nimport MapComponent from './MapComponent';\n\nfunction setAttribute(el, name, value) {\n  if (value != null) {\n    el.setAttribute(name, value);\n  } else {\n    el.removeAttribute(name);\n  }\n}\n\nvar SVGOverlay = /*#__PURE__*/function (_MapComponent) {\n  _inheritsLoose(SVGOverlay, _MapComponent);\n\n  function SVGOverlay(props) {\n    var _this;\n\n    _this = _MapComponent.call(this, props) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"leafletElement\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"container\", void 0);\n\n    _this.leafletElement = _this.createLeafletElement(props);\n    return _this;\n  }\n\n  var _proto = SVGOverlay.prototype;\n\n  _proto.createLeafletElement = function createLeafletElement(props) {\n    var container = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    setAttribute(container, 'xmlns', 'http://www.w3.org/2000/svg');\n    setAttribute(container, 'preserveAspectRatio', props.preserveAspectRatio);\n    setAttribute(container, 'viewBox', props.viewBox);\n    this.container = container;\n    return new LeafletSVGOverlay(container, props.bounds, this.getOptions(props));\n  };\n\n  _proto.updateLeafletElement = function updateLeafletElement(fromProps, toProps) {\n    if (toProps.bounds !== fromProps.bounds) {\n      this.leafletElement.setBounds(toProps.bounds);\n    }\n\n    if (toProps.opacity !== fromProps.opacity) {\n      this.leafletElement.setOpacity(toProps.opacity);\n    }\n\n    if (this.container && toProps.preserveAspectRatio !== fromProps.preserveAspectRatio) {\n      setAttribute(this.container, 'preserveAspectRatio', toProps.preserveAspectRatio);\n    }\n\n    if (this.container && toProps.viewBox !== fromProps.viewBox) {\n      setAttribute(this.container, 'viewBox', toProps.viewBox);\n    }\n\n    if (toProps.zIndex !== fromProps.zIndex) {\n      this.leafletElement.setZIndex(toProps.zIndex);\n    }\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    _MapComponent.prototype.componentDidMount.call(this);\n\n    this.layerContainer.addLayer(this.leafletElement);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    _MapComponent.prototype.componentDidUpdate.call(this, prevProps);\n\n    if (this.props.attribution !== prevProps.attribution) {\n      var map = this.props.leaflet.map;\n\n      if (map != null && map.attributionControl != null) {\n        map.attributionControl.removeAttribution(prevProps.attribution);\n        map.attributionControl.addAttribution(this.props.attribution);\n      }\n    }\n\n    this.updateLeafletElement(prevProps, this.props);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    _MapComponent.prototype.componentWillUnmount.call(this);\n\n    this.layerContainer.removeLayer(this.leafletElement);\n    this.container = null;\n  };\n\n  _proto.render = function render() {\n    var children = this.props.children;\n\n    if (children == null || this.container == null) {\n      return null;\n    }\n\n    return createPortal(children, this.container);\n  };\n\n  _createClass(SVGOverlay, [{\n    key: \"layerContainer\",\n    get: function get() {\n      return this.props.leaflet.layerContainer || this.props.leaflet.map;\n    }\n  }]);\n\n  return SVGOverlay;\n}(MapComponent);\n\nexport default withLeaflet(SVGOverlay);","map":{"version":3,"sources":["/home/lipereira/projects/NLW/web/node_modules/react-leaflet/es/SVGOverlay.js"],"names":["_createClass","_assertThisInitialized","_inheritsLoose","_defineProperty","Layer","SVGOverlay","LeafletSVGOverlay","createPortal","withLeaflet","MapComponent","setAttribute","el","name","value","removeAttribute","_MapComponent","props","_this","call","leafletElement","createLeafletElement","_proto","prototype","container","document","createElementNS","preserveAspectRatio","viewBox","bounds","getOptions","updateLeafletElement","fromProps","toProps","setBounds","opacity","setOpacity","zIndex","setZIndex","componentDidMount","layerContainer","addLayer","componentDidUpdate","prevProps","attribution","map","leaflet","attributionControl","removeAttribution","addAttribution","componentWillUnmount","removeLayer","render","children","key","get"],"mappings":"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","sourcesContent":["\"use strict\";\n\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Layer, SVGOverlay as LeafletSVGOverlay } from 'leaflet';\nimport { createPortal } from 'react-dom';\nimport { withLeaflet } from './context';\nimport MapComponent from './MapComponent';\n\nfunction setAttribute(el, name, value) {\n  if (value != null) {\n    el.setAttribute(name, value);\n  } else {\n    el.removeAttribute(name);\n  }\n}\n\nvar SVGOverlay = /*#__PURE__*/function (_MapComponent) {\n  _inheritsLoose(SVGOverlay, _MapComponent);\n\n  function SVGOverlay(props) {\n    var _this;\n\n    _this = _MapComponent.call(this, props) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"leafletElement\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"container\", void 0);\n\n    _this.leafletElement = _this.createLeafletElement(props);\n    return _this;\n  }\n\n  var _proto = SVGOverlay.prototype;\n\n  _proto.createLeafletElement = function createLeafletElement(props) {\n    var container = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    setAttribute(container, 'xmlns', 'http://www.w3.org/2000/svg');\n    setAttribute(container, 'preserveAspectRatio', props.preserveAspectRatio);\n    setAttribute(container, 'viewBox', props.viewBox);\n    this.container = container;\n    return new LeafletSVGOverlay(container, props.bounds, this.getOptions(props));\n  };\n\n  _proto.updateLeafletElement = function updateLeafletElement(fromProps, toProps) {\n    if (toProps.bounds !== fromProps.bounds) {\n      this.leafletElement.setBounds(toProps.bounds);\n    }\n\n    if (toProps.opacity !== fromProps.opacity) {\n      this.leafletElement.setOpacity(toProps.opacity);\n    }\n\n    if (this.container && toProps.preserveAspectRatio !== fromProps.preserveAspectRatio) {\n      setAttribute(this.container, 'preserveAspectRatio', toProps.preserveAspectRatio);\n    }\n\n    if (this.container && toProps.viewBox !== fromProps.viewBox) {\n      setAttribute(this.container, 'viewBox', toProps.viewBox);\n    }\n\n    if (toProps.zIndex !== fromProps.zIndex) {\n      this.leafletElement.setZIndex(toProps.zIndex);\n    }\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    _MapComponent.prototype.componentDidMount.call(this);\n\n    this.layerContainer.addLayer(this.leafletElement);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    _MapComponent.prototype.componentDidUpdate.call(this, prevProps);\n\n    if (this.props.attribution !== prevProps.attribution) {\n      var map = this.props.leaflet.map;\n\n      if (map != null && map.attributionControl != null) {\n        map.attributionControl.removeAttribution(prevProps.attribution);\n        map.attributionControl.addAttribution(this.props.attribution);\n      }\n    }\n\n    this.updateLeafletElement(prevProps, this.props);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    _MapComponent.prototype.componentWillUnmount.call(this);\n\n    this.layerContainer.removeLayer(this.leafletElement);\n    this.container = null;\n  };\n\n  _proto.render = function render() {\n    var children = this.props.children;\n\n    if (children == null || this.container == null) {\n      return null;\n    }\n\n    return createPortal(children, this.container);\n  };\n\n  _createClass(SVGOverlay, [{\n    key: \"layerContainer\",\n    get: function get() {\n      return this.props.leaflet.layerContainer || this.props.leaflet.map;\n    }\n  }]);\n\n  return SVGOverlay;\n}(MapComponent);\n\nexport default withLeaflet(SVGOverlay);"]},"metadata":{},"sourceType":"module"}